<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>EnvFly CLI Banner</title><script src="https://cdn.tailwindcss.com"></script></head><body><div class="w-full h-80 bg-gradient-to-br from-emerald-50 via-gray-50 to-emerald-100 relative overflow-hidden border border-gray-200 rounded-lg"><div class="absolute inset-0 bg-gradient-to-r from-emerald-500/5 via-transparent to-emerald-500/5"></div><div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-400 via-emerald-500 to-emerald-600"></div><div class="absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-600 via-emerald-500 to-emerald-400"></div><div class="absolute top-8 left-12 text-emerald-400 opacity-40"><svg width="32" height="32" viewBox="0 0 32 32" fill="currentColor"><path d="M16 0l4.702 11.298L32 16l-11.298 4.702L16 32l-4.702-11.298L0 16l11.298-4.702L16 0z"/></svg></div><div class="absolute top-16 right-16 text-emerald-300 opacity-30"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0l3.527 8.473L24 12l-8.473 3.527L12 24l-3.527-8.473L0 12l8.473-3.527L12 0z"/></svg></div><div class="absolute bottom-12 left-20 text-emerald-500 opacity-25"><svg width="28" height="28" viewBox="0 0 28 28" fill="currentColor"><path d="M14 0l4.121 9.879L28 14l-9.879 4.121L14 28l-4.121-9.879L0 14l9.879-4.121L14 0z"/></svg></div><div class="absolute top-12 right-32 text-emerald-400 opacity-35"><svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor"><path d="M10 0l2.939 7.061L20 10l-7.061 2.939L10 20l-2.939-7.061L0 10l7.061-2.939L10 0z"/></svg></div><div class="absolute bottom-16 right-12 text-emerald-300 opacity-40"><svg width="26" height="26" viewBox="0 0 26 26" fill="currentColor"><path d="M13 0l3.822 9.178L26 13l-9.178 3.822L13 26l-3.822-9.178L0 13l9.178-3.822L13 0z"/></svg></div><div class="absolute top-6 left-1/3 w-32 h-px bg-gradient-to-r from-transparent via-emerald-400/30 to-transparent"></div><div class="absolute bottom-6 right-1/3 w-40 h-px bg-gradient-to-r from-transparent via-emerald-500/40 to-transparent"></div><div class="absolute top-1/3 left-8 w-px h-16 bg-gradient-to-b from-transparent via-emerald-400/30 to-transparent"></div><div class="absolute bottom-1/3 right-8 w-px h-20 bg-gradient-to-b from-transparent via-emerald-500/40 to-transparent"></div><div class="flex items-center justify-center h-full px-8"><div class="text-center max-w-4xl mx-auto z-10 relative"><div class="flex items-center justify-center mb-6"><div class="relative mr-4"><svg width="64" height="64" viewBox="0 0 64 64" class="text-emerald-500"><rect x="8" y="16" width="48" height="32" rx="6" fill="currentColor" opacity="0.1"/><rect x="12" y="20" width="40" height="4" rx="2" fill="currentColor" opacity="0.3"/><rect x="12" y="28" width="28" height="4" rx="2" fill="currentColor" opacity="0.5"/><rect x="12" y="36" width="36" height="4" rx="2" fill="currentColor"/><circle cx="48" cy="24" r="2" fill="#ef4444"/><circle cx="48" cy="32" r="2" fill="#f59e0b"/><circle cx="48" cy="40" r="2" fill="#10b981"/></svg><div class="absolute -top-1 -right-1 text-emerald-400"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path d="M8 0l2.351 5.649L16 8l-5.649 2.351L8 16l-2.351-5.649L0 8l5.649-2.351L8 0z"/></svg></div></div><div class="text-left"><h1 class="text-5xl md:text-6xl font-bold text-gray-900 mb-2 leading-tight">EnvFly CLI</h1><p class="text-lg md:text-xl text-gray-600 leading-relaxed">Git for environment variables • Secure • Fast • Team-friendly</p></div></div><div class="flex flex-wrap gap-3 justify-center items-center"><span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800 border border-emerald-200"><svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor" class="mr-1"><path d="M6 0l1.764 4.236L12 6l-4.236 1.764L6 12l-1.764-4.236L0 6l4.236-1.764L6 0z"/></svg>Secure Auth</span><span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800 border border-emerald-200"><svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor" class="mr-1"><path d="M6 0l1.764 4.236L12 6l-4.236 1.764L6 12l-1.764-4.236L0 6l4.236-1.764L6 0z"/></svg>AES-256 Encryption</span><span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800 border border-emerald-200"><svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor" class="mr-1"><path d="M6 0l1.764 4.236L12 6l-4.236 1.764L6 12l-1.764-4.236L0 6l4.236-1.764L6 0z"/></svg>Team Sync</span><span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800 border border-emerald-200"><svg width="12" height="12" viewBox="0 0 12 12" fill="currentColor" class="mr-1"><path d="M6 0l1.764 4.236L12 6l-4.236 1.764L6 12l-1.764-4.236L0 6l4.236-1.764L6 0z"/></svg>Cross-Platform</span></div></div></div></div></body></html>

A lightweight Node.js command-line tool for syncing environment variables across teams and projects. Think of it as "Git for environment variables" - secure, fast, and team-friendly.

## ✨ Features

- 🔐 **Secure Storage** - Client-side encryption with AES-256-GCM
- 🌐 **Multiple Storage Providers** - Git, AWS, Azure, Google Cloud, or EnvFly Cloud
- 👥 **Team Collaboration** - Share environments with team members
- 🔄 **Conflict Resolution** - Smart merging and conflict detection
- 📊 **Audit Logs** - Track all environment changes
- 🚀 **Fast & Lightweight** - Built with Node.js, works everywhere
- 🔧 **Easy Setup** - Simple initialization and configuration

## 🚀 Quick Start

### Installation

```bash
npm install -g envfly-cli
```

### Initialize Project

```bash
# Initialize with your preferred storage provider
envfly init

# Choose from:
# - Git Repository (encrypted)
# - AWS Secrets Manager
# - Azure Key Vault
# - Google Secret Manager
# - EnvFly Cloud Service
```

### Basic Usage

```bash
# List environments
envfly list

# Push environment to storage
envfly push production

# Pull environment from storage
envfly pull staging

# Sync environment (merge local and remote)
envfly sync development
```

## 📦 Storage Providers

EnvFly supports multiple storage backends, so you can use your existing cloud infrastructure:

### 🔧 Git Repository

Store encrypted environment variables directly in your Git repository:

```bash
envfly init
# Choose: Git Repository (encrypted)
# Enter encryption key
# Set environment files path
```

**Features:**

- Client-side encryption before Git commit
- Version control for environment changes
- Works with any Git hosting (GitHub, GitLab, etc.)
- No external dependencies

### ☁️ AWS Secrets Manager

Use AWS Secrets Manager for enterprise-grade secret management:

```bash
envfly init
# Choose: AWS Secrets Manager
# Configure AWS region and prefix
```

**Requirements:**

- AWS credentials configured (`aws configure`)
- Secrets Manager access permissions
- Optional: Install `aws-sdk` for better performance

### 🔷 Azure Key Vault

Store environments in Azure Key Vault:

```bash
envfly init
# Choose: Azure Key Vault
# Enter Key Vault URL
# Configure prefix
```

**Requirements:**

- Azure credentials (Azure CLI, Managed Identity, or Service Principal)
- Key Vault access permissions
- Optional: Install `@azure/identity` and `@azure/keyvault-secrets`

### 🌐 Google Secret Manager

Use Google Cloud Secret Manager:

```bash
envfly init
# Choose: Google Secret Manager
# Enter Project ID
# Configure prefix
```

**Requirements:**

- Google Cloud credentials (`gcloud auth application-default login`)
- Secret Manager access permissions
- Optional: Install `@google-cloud/secret-manager`

### 🚀 EnvFly Cloud Service

Use EnvFly's hosted service with team features:

```bash
envfly login
envfly init
# Choose: EnvFly Cloud Service
# Set up team access
```

## 📋 Commands

### Core Commands

| Command             | Description                                                          |
| ------------------- | -------------------------------------------------------------------- |
| `envfly init`       | Initialize EnvFly in current project with storage provider selection |
| `envfly login`      | Authenticate with EnvFly Cloud Service                               |
| `envfly list`       | List available environments and their status                         |
| `envfly push <env>` | Push local environment to storage                                    |
| `envfly pull <env>` | Pull environment from storage to local                               |
| `envfly sync <env>` | Sync environment (merge local and remote)                            |

### Team Management (EnvFly Cloud)

| Command                                       | Description                         |
| --------------------------------------------- | ----------------------------------- |
| `envfly team create <name>`                   | Create a new team                   |
| `envfly team list`                            | List teams you're a member of       |
| `envfly team invite <email> [role]`           | Invite member to current team       |
| `envfly team join <code>`                     | Join team with invite code          |
| `envfly team members [teamId]`                | List team members                   |
| `envfly team grant <user> <env> [permission]` | Grant environment access            |
| `envfly team share-env <env> <team> [keys]`   | Share environment with another team |

### Advanced Features

| Command                | Description                      |
| ---------------------- | -------------------------------- |
| `envfly history <env>` | Show environment version history |
| `envfly audit <env>`   | Show detailed audit logs         |

## 🔐 Security & Access Control

### Role-Based Permissions

- **Admin**: Full access to all environments and team management
- **Developer**: Read/write access to assigned environments
- **Readonly**: Read-only access to assigned environments

### Environment-Level Access

- Granular permissions per environment
- Cross-team environment sharing
- Audit trail for all access

### Encryption

- Client-side AES-256-GCM encryption
- Zero-knowledge architecture (server never sees plaintext)
- Secure key derivation with PBKDF2

## 👥 Team Sharing Workflows

### New Team Setup

```bash
# 1. Create team
envfly team create "Backend Team"

# 2. Invite members
envfly team invite alice@company.com developer
envfly team invite bob@company.com readonly

# 3. Share environments
envfly team grant alice production readwrite
envfly team grant bob staging readonly
```

### Environment Sharing Between Teams

```bash
# Share production environment with frontend team
envfly team share-env production frontend-team

# Grant specific access to shared environment
envfly team grant frontend-team production readonly
```

### Granular Access Control

```bash
# Grant access to specific environment variables only
envfly team grant alice production readonly --keys API_KEY,DATABASE_URL

# Revoke access
envfly team revoke alice production
```

### Environment Versioning

```bash
# View environment history
envfly history production

# Rollback to previous version
envfly rollback production v3
```

## 🔧 Configuration

### .envfly Configuration File

```json
{
  "version": "1.0",
  "project_id": "proj_abc123",
  "project_name": "My Awesome App",
  "team_id": "team_xyz789",
  "storage": {
    "provider": "aws",
    "config": {
      "aws": {
        "region": "us-east-1",
        "prefix": "envfly"
      }
    }
  },
  "environments": {
    "production": {
      "remote_id": "env_prod_123",
      "description": "Production environment",
      "file": ".env.production",
      "last_push": "2024-01-01T00:00:00Z",
      "last_pull": "2024-01-01T00:00:00Z"
    }
  },
  "auth": {
    "endpoint": "https://api.envfly.io/v1",
    "encryption": {
      "enabled": true,
      "algorithm": "aes-256-gcm"
    }
  },
  "sync": {
    "auto_backup": true,
    "conflict_resolution": "prompt",
    "audit_logs": true
  }
}
```

## 🛠️ Development

### Prerequisites

- Node.js >= 14.0.0
- Git (for Git storage provider)

### Installation

```bash
git clone https://github.com/your-org/envfly-cli.git
cd envfly-cli
npm install
```

### Development Commands

```bash
# Run in development mode
npm run dev

# Run tests
npm test

# Build package
npm run build
```

### Optional Dependencies

Install cloud provider SDKs for better performance:

```bash
# AWS Secrets Manager
npm install aws-sdk

# Azure Key Vault
npm install @azure/identity @azure/keyvault-secrets

# Google Secret Manager
npm install @google-cloud/secret-manager
```

## 🤝 Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## 📄 License

This project is licensed under the ISC License - see the [LICENSE](LICENSE) file for details.

## 🆘 Support

- 📖 [Documentation](https://docs.envfly.io)
- 💬 [Discord Community](https://discord.gg/envfly)
- 🐛 [Issue Tracker](https://github.com/your-org/envfly-cli/issues)
- 📧 [Email Support](mailto:support@envfly.io)

---

**Made with ❤️ by the EnvFly Team**
